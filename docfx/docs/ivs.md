## IVSについて

IVS（Ideographic Variation Sequence、異体字セレクタ）は、Unicodeで漢字の異体字を表現するための仕組みです。

IVSは、基本となる漢字（統合漢字）に続けて,特殊なキャラクターである異体字セレクタ（U+E0100からU+E01EFまでの範囲）を付加することで、特定の異体字を指定します。

## コレクション
日本語で使用するIVSには、主に以下のコレクションがあります。

- **Adobe-Japan1**: Adobeが定義したコレクションで、主にDTPやフォントで使用されます。
- **Moji_Joho**: 日本の文字情報技術に関する標準化団体が定義したコレクションで、戸籍で使用される異体字をカバーします。

一般的なDTP用途にはAdobe-Japan1がよく使用され、住民や戸籍データを扱う環境ではMoji_Johoが利用されることがあります。
同じ字形がそれぞれに定義されている場合がありますが、両者の間に互換性はありません。

## 描画における注意点
IVSを使用した文字の描画には、IVSの描画に対応したレンダリングエンジンと、対応するフォントが必要です。

フォントがIVSに対応していない場合、異体字セレクタが無視され、基本の漢字が表示されることがあります。
また、IVSの描画に対応していないレンダリングエンジンでは、異体字セレクタが正しく解釈されず、いわゆる豆腐が表示されてしまうことがあります。

## サロゲートペア
IVSで使用される異体字セレクタは、UTF-16エンコーディングではサロゲートペアとして表現されます。
.NETは内部でUTF-16を使用しており、サロゲートペアはchar2つで表されます。
